name: taskflow-cli - Sprint 1
started: '2025-12-03'
phase: implementing
current_spec: task-list

planning_status: complete

backlog:
  - task-done
  - task-display

specs:
  #=========================================================
  # SPEC: task-storage (COMPLETE)
  #=========================================================
  task-storage:
    status: done
    file: docs/specs/task-storage.md
    appetite: small-medium
    completed: '2025-12-03'
    tasks:
      - id: task-storage-1
        name: Project scaffolding and dependencies
        status: done
      - id: task-storage-2
        name: Implement loadTasks and saveTasks
        status: done
      - id: task-storage-3
        name: Implement getNextId and createTask
        status: done

  #=========================================================
  # SPEC: task-add (COMPLETE)
  #=========================================================
  task-add:
    status: done
    file: docs/specs/task-add.md
    appetite: small
    completed: '2025-12-03'
    tasks:
      - id: task-add-1
        name: Create add command with argument parsing
        status: done
      - id: task-add-2
        name: Wire up CLI routing and error handling
        status: done

  #=========================================================
  # SPEC: task-list (IN PROGRESS)
  #=========================================================
  task-list:
    status: done
    file: docs/specs/task-list.md
    appetite: small
    completed: '2025-12-03'
    tasks:
      #-------------------------------------------------
      # Task 1: List Command Handler
      #-------------------------------------------------
      - id: task-list-1
        name: Create list command with filtering and formatting
        description: |
          Create the list command handler module with argument parsing,
          filtering, sorting, and output formatting.
        files:
          - src/commands/list.js
          - tests/list.test.js
        acceptance_criteria:
          - parseListArgs() handles --done, --all/-a, --priority/-p, --tag/-t
          - filterTasks() filters by status (open/done/all)
          - filterTasks() filters by priority
          - filterTasks() filters by tag
          - filterTasks() combines filters with AND logic
          - sortTasks() sorts by priority (high→medium→low) then by ID
          - formatTask() shows emoji indicator based on priority/status
          - formatTask() includes tags when present
          - formatTaskList() handles empty states with context-aware messages
          - runList() loads tasks and outputs formatted list
          - Unit tests cover all filtering, sorting, and formatting cases
        depends_on: []
        estimate: 1.5h
        status: done
        completed: '2025-12-03'

      #-------------------------------------------------
      # Task 2: CLI Integration
      #-------------------------------------------------
      - id: task-list-2
        name: Wire up CLI routing for list command
        description: |
          Update the CLI entry point to route the "list" command to the
          handler. Replace placeholder with actual implementation.
        files:
          - src/index.js
          - tests/list.test.js
        acceptance_criteria:
          - "tf list" routes to list command handler
          - "tf list --help" shows list command usage
          - All filter flags work from CLI
          - Exit codes are correct (0 success, 1 error)
          - Integration test verifies end-to-end filtering
        depends_on:
          - task-list-1
        estimate: 0.5h
        status: done
        completed: '2025-12-03'

notes: |
  COMPLETED:
  - task-storage: 3/3 tasks ✓
  - task-add: 2/2 tasks ✓
  
  IN PROGRESS:
  - task-list: 0/2 tasks
  
  Total estimate for task-list: 2 hours (within 2-3h appetite)
  
  Next step: /implement task-list-1
