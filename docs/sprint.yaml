name: taskflow-cli - Sprint 1
started: '2025-12-03'
phase: implementing
current_spec: task-display

planning_status: complete

backlog: []

specs:
  #=========================================================
  # SPEC: task-storage (COMPLETE)
  #=========================================================
  task-storage:
    status: done
    file: docs/specs/task-storage.md
    appetite: small-medium
    completed: '2025-12-03'
    tasks:
      - id: task-storage-1
        name: Project scaffolding and dependencies
        status: done
      - id: task-storage-2
        name: Implement loadTasks and saveTasks
        status: done
      - id: task-storage-3
        name: Implement getNextId and createTask
        status: done

  #=========================================================
  # SPEC: task-add (COMPLETE)
  #=========================================================
  task-add:
    status: done
    file: docs/specs/task-add.md
    appetite: small
    completed: '2025-12-03'
    tasks:
      - id: task-add-1
        name: Create add command with argument parsing
        status: done
      - id: task-add-2
        name: Wire up CLI routing and error handling
        status: done

  #=========================================================
  # SPEC: task-list (IN PROGRESS)
  #=========================================================
  task-list:
    status: done
    file: docs/specs/task-list.md
    appetite: small
    completed: '2025-12-03'
    tasks:
      #-------------------------------------------------
      # Task 1: List Command Handler
      #-------------------------------------------------
      - id: task-list-1
        name: Create list command with filtering and formatting
        description: |
          Create the list command handler module with argument parsing,
          filtering, sorting, and output formatting.
        files:
          - src/commands/list.js
          - tests/list.test.js
        acceptance_criteria:
          - parseListArgs() handles --done, --all/-a, --priority/-p, --tag/-t
          - filterTasks() filters by status (open/done/all)
          - filterTasks() filters by priority
          - filterTasks() filters by tag
          - filterTasks() combines filters with AND logic
          - sortTasks() sorts by priority (highâ†’mediumâ†’low) then by ID
          - formatTask() shows emoji indicator based on priority/status
          - formatTask() includes tags when present
          - formatTaskList() handles empty states with context-aware messages
          - runList() loads tasks and outputs formatted list
          - Unit tests cover all filtering, sorting, and formatting cases
        depends_on: []
        estimate: 1.5h
        status: done
        completed: '2025-12-03'

      #-------------------------------------------------
      # Task 2: CLI Integration
      #-------------------------------------------------
      - id: task-list-2
        name: Wire up CLI routing for list command
        description: |
          Update the CLI entry point to route the "list" command to the
          handler. Replace placeholder with actual implementation.
        files:
          - src/index.js
          - tests/list.test.js
        acceptance_criteria:
          - "tf list" routes to list command handler
          - "tf list --help" shows list command usage
          - All filter flags work from CLI
          - Exit codes are correct (0 success, 1 error)
          - Integration test verifies end-to-end filtering
        depends_on:
          - task-list-1
        estimate: 0.5h
        status: done
        completed: '2025-12-03'

  #=========================================================
  # SPEC: task-done (READY)
  #=========================================================
  task-done:
    status: done
    file: docs/specs/task-done.md
    appetite: small
    completed: '2025-12-03'
    tasks:
      #-------------------------------------------------
      # Task 1: Done Command Handler
      #-------------------------------------------------
      - id: task-done-1
        name: Create done command with validation and output
        description: |
          Create the done command handler module with argument parsing,
          task lookup, status update, and output formatting.
        files:
          - src/commands/done.js
          - tests/done.test.js
        acceptance_criteria:
          - parseDoneArgs() extracts task ID from arguments
          - validateTaskId() rejects non-numeric, negative, decimal IDs
          - findTaskById() locates task or returns null
          - markTaskDone() updates status and sets completed date
          - markTaskDone() returns false if already done (no date change)
          - formatOutput() shows success message with task details
          - formatOutput() shows warning for already-done tasks
          - runDone() orchestrates the full done flow
          - Error messages are helpful with usage hints
          - Unit tests cover all validation and edge cases
        depends_on: []
        estimate: 1h
        status: done
        completed: '2025-12-03'

      #-------------------------------------------------
      # Task 2: CLI Integration
      #-------------------------------------------------
      - id: task-done-2
        name: Wire up CLI routing for done command
        description: |
          Update the CLI entry point to route the "done" command to the
          handler. Replace placeholder with actual implementation.
        files:
          - src/index.js
        acceptance_criteria:
          - "tf done <id>" routes to done command handler
          - "tf done --help" shows done command usage
          - Exit codes are correct (0 success, 1 error)
          - End-to-end test verifies task is marked done
        depends_on:
          - task-done-1
        estimate: 0.5h
        status: done
        completed: '2025-12-03'

  #=========================================================
  # SPEC: task-display (READY)
  #=========================================================
  task-display:
    status: in-progress
    file: docs/specs/task-display.md
    appetite: small
    created: '2025-12-03'
    tasks:
      #-------------------------------------------------
      # Task 1: Show Command Handler
      #-------------------------------------------------
      - id: task-display-1
        name: Create show command with formatting
        description: |
          Create the show command handler module with argument parsing,
          task lookup, and detailed output formatting.
        files:
          - src/commands/show.js
          - tests/show.test.js
        acceptance_criteria:
          - parseShowArgs() extracts task ID from arguments
          - Reuse validateTaskId pattern from done.js
          - Reuse findTaskById pattern from done.js
          - formatTaskDetails() shows all task fields
          - formatTaskDetails() omits Tags line when empty
          - formatTaskDetails() omits Completed line for open tasks
          - formatTaskDetails() shows checkmark for done status
          - runShow() orchestrates the full show flow
          - Error messages match done command style
          - Unit tests cover formatting and edge cases
        depends_on: []
        estimate: 1h
        status: done
        completed: '2025-12-03'

      #-------------------------------------------------
      # Task 2: CLI Integration
      #-------------------------------------------------
      - id: task-display-2
        name: Wire up CLI routing for show command
        description: |
          Update the CLI entry point to route the "show" command to the
          handler. Update global help with new command.
        files:
          - src/index.js
        acceptance_criteria:
          - "tf show <id>" routes to show command handler
          - "tf show --help" shows show command usage
          - Global help includes show command
          - Exit codes are correct (0 success, 1 error)
          - End-to-end test verifies task details display
        depends_on:
          - task-display-1
        estimate: 0.5h
        status: pending

notes: |
  COMPLETED:
  - task-storage: 3/3 tasks âœ“
  - task-add: 2/2 tasks âœ“
  - task-list: 2/2 tasks âœ“
  - task-done: 2/2 tasks âœ“
  
  READY:
  - task-display: spec ready, awaiting /create-tasks
  
  MVP COMPLETE! ðŸŽ‰ Now adding polish features.
